(this.webpackJsonpdrawingthings=this.webpackJsonpdrawingthings||[]).push([[0],{112:function(e,a,t){e.exports=t(113)},113:function(e,a,t){"use strict";t.r(a);var n=t(17),c=t(18),s=t(6),o=t(20),i=t(19),r=t(0),l=t.n(r),h=t(109),d=t.n(h),v=t(110),u=t(41),m=t(3),p=(t(283),t(284),t(61)),b=t.n(p),C=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(e,c){var o;return Object(n.a)(this,t),(o=a.call(this,e,c)).state={color:o.props.color,painting:!1,dimensions:o.props.dimensions,canvasdata:""},o.ctx="",o.lastPt=null,o.startdraw=o.startdraw.bind(Object(s.a)(o)),o.enddraw=o.enddraw.bind(Object(s.a)(o)),o.draw=o.draw.bind(Object(s.a)(o)),o}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=document.getElementById("canvas");this.ctx=a.getContext("2d"),a.height=800,a.width=800,a.addEventListener("mousedown",this.startdraw),a.addEventListener("mouseup",this.enddraw),a.addEventListener("mousemove",this.draw),b.a.get("http://localhost:5000/canvases/".concat(this.props.id)).then((function(t){e.setState({canvasdata:t.data.canvas});var n=new Image;n.src=t.data.canvas,e.ctx.drawImage(n,0,0,a.width,a.height)})).catch((function(e){console.log(e)}))}},{key:"componentDidUpdate",value:function(){var e=this.props.color;this.state.color!==e&&this.setState({color:e});var a=this.props.dimensions;this.state.dimensions!==a&&this.setState({dimensions:a})}},{key:"startdraw",value:function(){this.setState({painting:!0})}},{key:"enddraw",value:function(){this.setState({painting:!1}),this.ctx.beginPath()}},{key:"draw",value:function(e){this.state.painting&&(this.ctx.lineWidth=this.state.dimensions,this.ctx.lineCap="round",this.ctx.lineTo(e.offsetX,e.offsetY),this.ctx.strokeStyle=this.state.color,this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(e.offsetX,e.offsetY))}},{key:"render",value:function(){return l.a.createElement("div",{className:"box"},l.a.createElement("canvas",{id:"canvas",className:"canvas"}))}}]),t}(l.a.Component),g=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(e){var c;return Object(n.a)(this,t),(c=a.call(this,e)).handleChange=c.handleChange.bind(Object(s.a)(c)),c}return Object(c.a)(t,[{key:"handleChange",value:function(e){this.props.onDimensionSelectorChange(e.target.value)}},{key:"render",value:function(){var e=this.props.dimensions;return l.a.createElement("div",{className:"d-flex flex-row"},l.a.createElement("input",{type:"range",min:"1",max:"100",value:e,id:"myRange",onChange:this.handleChange}))}}]),t}(l.a.Component),f=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(e){var c;return Object(n.a)(this,t),(c=a.call(this,e)).state={displayColorPicker:!1},c.handleChange=c.handleChange.bind(Object(s.a)(c)),c.handleClick=c.handleClick.bind(Object(s.a)(c)),c.handleClose=c.handleClose.bind(Object(s.a)(c)),c}return Object(c.a)(t,[{key:"handleClick",value:function(){this.setState({displayColorPicker:!this.state.displayColorPicker})}},{key:"handleClose",value:function(){this.setState({displayColorPicker:!1})}},{key:"handleChange",value:function(e){this.props.onColorSelectorChange(e.hex)}},{key:"render",value:function(){var e=this.props.color;return l.a.createElement("div",null,l.a.createElement("div",{className:"changlecolorbtn",onClick:this.handleClick},l.a.createElement("div",{style:{background:e},className:"btncolor"})),this.state.displayColorPicker?l.a.createElement("div",{className:"colormenu"},l.a.createElement("div",{className:"menucovor",onClick:this.handleClose}),l.a.createElement(v.SketchPicker,{color:e,onChange:this.handleChange})):null)}}]),t}(l.a.Component),k=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(e){var c;return Object(n.a)(this,t),(c=a.call(this,e)).handleClick=c.handleClick.bind(Object(s.a)(c)),c}return Object(c.a)(t,[{key:"handleClick",value:function(){this.props.onCanvasSave()}},{key:"render",value:function(){return l.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.handleClick},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},l.a.createElement("path",{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM272 80v80H144V80h128zm122 352H54a6 6 0 0 1-6-6V86a6 6 0 0 1 6-6h42v104c0 13.255 10.745 24 24 24h176c13.255 0 24-10.745 24-24V83.882l78.243 78.243a6 6 0 0 1 1.757 4.243V426a6 6 0 0 1-6 6zM224 232c-48.523 0-88 39.477-88 88s39.477 88 88 88 88-39.477 88-88-39.477-88-88-88zm0 128c-22.056 0-40-17.944-40-40s17.944-40 40-40 40 17.944 40 40-17.944 40-40 40z"})))}}]),t}(l.a.Component),E=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(e){var c;return Object(n.a)(this,t),(c=a.call(this,e)).handleClick=c.handleClick.bind(Object(s.a)(c)),c}return Object(c.a)(t,[{key:"handleClick",value:function(){this.props.onAddCanvas()}},{key:"render",value:function(){return l.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.handleClick},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},l.a.createElement("path",{d:"M352 240v32c0 6.6-5.4 12-12 12h-88v88c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-88h-88c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h88v-88c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v88h88c6.6 0 12 5.4 12 12zm96-160v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"})))}}]),t}(l.a.Component),j=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(e){var c;return Object(n.a)(this,t),(c=a.call(this,e)).state={dimensions:10,color:"#000000"},c.onDimensionSelectorChange=c.onDimensionSelectorChange.bind(Object(s.a)(c)),c.onColorSelectorChange=c.onColorSelectorChange.bind(Object(s.a)(c)),c.onCanvasSave=c.onCanvasSave.bind(Object(s.a)(c)),c}return Object(c.a)(t,[{key:"onColorSelectorChange",value:function(e){this.setState({color:e})}},{key:"onDimensionSelectorChange",value:function(e){this.setState({dimensions:e})}},{key:"onCanvasSave",value:function(){var e={canvas:document.getElementById("canvas").toDataURL()};fetch("http://localhost:5000/canvases/update/".concat(this.props.match.params.id),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e)})).catch((function(e){console.error("Error:",e)}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("nav",{className:"navbar navbar-dark bg-dark containinput"},l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement("li",{className:"nav-item nav-link"},l.a.createElement("span",{className:"btn badge"},l.a.createElement(k,{onCanvasSave:this.onCanvasSave}))),l.a.createElement("li",{className:"nav-item nav-link"},l.a.createElement("span",{className:"btn badge"},l.a.createElement(f,{onColorSelectorChange:this.onColorSelectorChange,color:this.state.color}))),l.a.createElement("li",{className:"nav-item "},l.a.createElement("span",{className:" badge inputslider"},l.a.createElement(g,{onDimensionSelectorChange:this.onDimensionSelectorChange,dimensions:this.state.dimensions}))),l.a.createElement("li",{className:"nav-item nav-link"},l.a.createElement("span",{className:"btn badge"},l.a.createElement(u.b,{to:"/"},l.a.createElement("button",{type:"button",className:"btn btn-secondary"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},l.a.createElement("path",{d:"M8 256c0 137 111 248 248 248s248-111 248-248S393 8 256 8 8 119 8 256zm448 0c0 110.5-89.5 200-200 200S56 366.5 56 256 145.5 56 256 56s200 89.5 200 200zm-72-20v40c0 6.6-5.4 12-12 12H256v67c0 10.7-12.9 16-20.5 8.5l-99-99c-4.7-4.7-4.7-12.3 0-17l99-99c7.6-7.6 20.5-2.2 20.5 8.5v67h116c6.6 0 12 5.4 12 12z"})))))))),l.a.createElement(C,{color:this.state.color,dimensions:this.state.dimensions,id:this.props.match.params.id}))}}]),t}(l.a.Component),y=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(u.a,null,l.a.createElement(m.a,{path:"/",exact:!0,component:w}),l.a.createElement(m.a,{path:"/canvas/:id",exact:!0,component:j}))}}]),t}(l.a.Component),O=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(u.b,{to:"/canvas/".concat(this.props.canvas._id),className:"canvaslink"},l.a.createElement("img",{src:"".concat(this.props.canvas.canvas),className:"col imageframe",alt:"PlaceholderImage"}))}}]),t}(l.a.Component),w=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(e){var c;return Object(n.a)(this,t),(c=a.call(this,e)).state={canvases:[]},c.newcanvas={canvas:1},c.onAddCanvas=c.onAddCanvas.bind(Object(s.a)(c)),c}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("http://localhost:5000/canvases/").then((function(a){e.setState({canvases:a.data}),console.log("got data")})).catch((function(e){console.log(e)}))}},{key:"onAddCanvas",value:function(){console.log(this.newcanvas.canvas),fetch("http://localhost:5000/canvases/create",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(this.newcanvas)}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e)})).catch((function(e){console.error("Error:",e)}))}},{key:"displayCanvases",value:function(){return this.state.canvases.map((function(e){return l.a.createElement(O,{key:e._id,canvas:e})}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("nav",{className:"navbar navbar-dark bg-dark containinput"},l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement("li",{className:"nav-item nav-link"},l.a.createElement("span",{className:"btn badge"},l.a.createElement(E,{onAddCanvas:this.onAddCanvas}))))),l.a.createElement("div",{className:"row row-cols-2 box "},this.displayCanvases()))}}]),t}(l.a.Component);d.a.render(l.a.createElement(y,null),document.getElementById("root"))},284:function(e,a,t){}},[[112,1,2]]]);
//# sourceMappingURL=main.c6514152.chunk.js.map