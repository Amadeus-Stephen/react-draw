{"ast":null,"code":"import _classCallCheck from\"/home/amadeus/react/react-draw/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/amadeus/react/react-draw/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/amadeus/react/react-draw/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/amadeus/react/react-draw/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/amadeus/react/react-draw/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import ReactDOM from\"react-dom\";import{SketchPicker}from\"react-color\";import{BrowserRouter as Router,Route,Link}from'react-router-dom';import\"bootstrap/dist/css/bootstrap.min.css\";import'./index.css';import axios from\"axios\";var Canvas=/*#__PURE__*/function(_React$Component){_inherits(Canvas,_React$Component);var _super=_createSuper(Canvas);function Canvas(props,match){var _this;_classCallCheck(this,Canvas);_this=_super.call(this,props,match);_this.state={color:_this.props.color,painting:false,dimensions:_this.props.dimensions,canvasdata:''};_this.ctx=\"\";_this.lastPt=null;_this.startdraw=_this.startdraw.bind(_assertThisInitialized(_this));_this.enddraw=_this.enddraw.bind(_assertThisInitialized(_this));_this.draw=_this.draw.bind(_assertThisInitialized(_this));return _this;}_createClass(Canvas,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var canvas=document.getElementById(\"canvas\");this.ctx=canvas.getContext(\"2d\");canvas.height=800;canvas.width=800;canvas.addEventListener('mousedown',this.startdraw);canvas.addEventListener('mouseup',this.enddraw);canvas.addEventListener('mousemove',this.draw);axios.get(\"http://localhost:5000/canvases/\".concat(this.props.id)).then(function(response){_this2.setState({canvasdata:response.data.canvas});var image=new Image();image.src=response.data.canvas;_this2.ctx.drawImage(image,0,0,canvas.width,canvas.height);}).catch(function(error){console.log(error);});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){var color=this.props.color;if(this.state.color!==color){this.setState({color:color});}var dimensions=this.props.dimensions;if(this.state.dimensions!==dimensions){this.setState({dimensions:dimensions});}}},{key:\"startdraw\",value:function startdraw(){this.setState({painting:true});}},{key:\"enddraw\",value:function enddraw(){this.setState({painting:false});this.ctx.beginPath();}},{key:\"draw\",value:function draw(e){if(this.state.painting){this.ctx.lineWidth=this.state.dimensions;this.ctx.lineCap=\"round\";this.ctx.lineTo(e.offsetX,e.offsetY);this.ctx.strokeStyle=this.state.color;this.ctx.stroke();this.ctx.beginPath();this.ctx.moveTo(e.offsetX,e.offsetY);}else{return;}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"box\"},/*#__PURE__*/React.createElement(\"canvas\",{id:\"canvas\",className:\"canvas\"}));}}]);return Canvas;}(React.Component);var DimensionSelectorSlider=/*#__PURE__*/function(_React$Component2){_inherits(DimensionSelectorSlider,_React$Component2);var _super2=_createSuper(DimensionSelectorSlider);function DimensionSelectorSlider(props){var _this3;_classCallCheck(this,DimensionSelectorSlider);_this3=_super2.call(this,props);_this3.handleChange=_this3.handleChange.bind(_assertThisInitialized(_this3));return _this3;}_createClass(DimensionSelectorSlider,[{key:\"handleChange\",value:function handleChange(event){this.props.onDimensionSelectorChange(event.target.value);}},{key:\"render\",value:function render(){var dimensions=this.props.dimensions;return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-row\"},/*#__PURE__*/React.createElement(\"input\",{type:\"range\",min:\"1\",max:\"100\",value:dimensions,id:\"myRange\",onChange:this.handleChange}));}}]);return DimensionSelectorSlider;}(React.Component);var ColorSelector=/*#__PURE__*/function(_React$Component3){_inherits(ColorSelector,_React$Component3);var _super3=_createSuper(ColorSelector);function ColorSelector(props){var _this4;_classCallCheck(this,ColorSelector);_this4=_super3.call(this,props);_this4.state={displayColorPicker:false};_this4.handleChange=_this4.handleChange.bind(_assertThisInitialized(_this4));_this4.handleClick=_this4.handleClick.bind(_assertThisInitialized(_this4));_this4.handleClose=_this4.handleClose.bind(_assertThisInitialized(_this4));return _this4;}_createClass(ColorSelector,[{key:\"handleClick\",value:function handleClick(){this.setState({displayColorPicker:!this.state.displayColorPicker});}},{key:\"handleClose\",value:function handleClose(){this.setState({displayColorPicker:false});}},{key:\"handleChange\",value:function handleChange(event){this.props.onColorSelectorChange(event.hex);}},{key:\"render\",value:function render(){var color=this.props.color;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"changlecolorbtn\",onClick:this.handleClick},/*#__PURE__*/React.createElement(\"div\",{style:{background:color},className:\"btncolor\"})),this.state.displayColorPicker?/*#__PURE__*/React.createElement(\"div\",{className:\"colormenu\"},/*#__PURE__*/React.createElement(\"div\",{className:\"menucovor\",onClick:this.handleClose}),/*#__PURE__*/React.createElement(SketchPicker,{color:color,onChange:this.handleChange})):null);}}]);return ColorSelector;}(React.Component);var SaveCanvas=/*#__PURE__*/function(_React$Component4){_inherits(SaveCanvas,_React$Component4);var _super4=_createSuper(SaveCanvas);function SaveCanvas(props){var _this5;_classCallCheck(this,SaveCanvas);_this5=_super4.call(this,props);_this5.handleClick=_this5.handleClick.bind(_assertThisInitialized(_this5));return _this5;}_createClass(SaveCanvas,[{key:\"handleClick\",value:function handleClick(){this.props.onCanvasSave();}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:this.handleClick},/*#__PURE__*/React.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 448 512\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM272 80v80H144V80h128zm122 352H54a6 6 0 0 1-6-6V86a6 6 0 0 1 6-6h42v104c0 13.255 10.745 24 24 24h176c13.255 0 24-10.745 24-24V83.882l78.243 78.243a6 6 0 0 1 1.757 4.243V426a6 6 0 0 1-6 6zM224 232c-48.523 0-88 39.477-88 88s39.477 88 88 88 88-39.477 88-88-39.477-88-88-88zm0 128c-22.056 0-40-17.944-40-40s17.944-40 40-40 40 17.944 40 40-17.944 40-40 40z\"})));}}]);return SaveCanvas;}(React.Component);var AddCanvas=/*#__PURE__*/function(_React$Component5){_inherits(AddCanvas,_React$Component5);var _super5=_createSuper(AddCanvas);function AddCanvas(props){var _this6;_classCallCheck(this,AddCanvas);_this6=_super5.call(this,props);_this6.handleClick=_this6.handleClick.bind(_assertThisInitialized(_this6));return _this6;}_createClass(AddCanvas,[{key:\"handleClick\",value:function handleClick(){this.props.onAddCanvas();}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:this.handleClick},/*#__PURE__*/React.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 448 512\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M352 240v32c0 6.6-5.4 12-12 12h-88v88c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-88h-88c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h88v-88c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v88h88c6.6 0 12 5.4 12 12zm96-160v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z\"})));}}]);return AddCanvas;}(React.Component);var Index=/*#__PURE__*/function(_React$Component6){_inherits(Index,_React$Component6);var _super6=_createSuper(Index);function Index(props){var _this7;_classCallCheck(this,Index);_this7=_super6.call(this,props);_this7.state={dimensions:10,color:\"#000000\"};_this7.onDimensionSelectorChange=_this7.onDimensionSelectorChange.bind(_assertThisInitialized(_this7));_this7.onColorSelectorChange=_this7.onColorSelectorChange.bind(_assertThisInitialized(_this7));_this7.onCanvasSave=_this7.onCanvasSave.bind(_assertThisInitialized(_this7));return _this7;}_createClass(Index,[{key:\"onColorSelectorChange\",value:function onColorSelectorChange(color){this.setState({color:color});}},{key:\"onDimensionSelectorChange\",value:function onDimensionSelectorChange(dimensions){this.setState({dimensions:dimensions});}},{key:\"onCanvasSave\",value:function onCanvasSave(){var getcanvas=document.getElementById(\"canvas\");var canvasdata=getcanvas.toDataURL();var canvas={canvas:canvasdata};fetch(\"http://localhost:5000/canvases/update/\".concat(this.props.match.params.id),{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify(canvas)}).then(function(response){return response.json();}).then(function(data){console.log(\"Success:\",data);}).catch(function(error){console.error(\"Error:\",error);});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"nav\",{className:\"navbar navbar-dark bg-dark containinput\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"navbar-nav\"},/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item nav-link\"},/*#__PURE__*/React.createElement(\"span\",{className:\"btn badge\"},/*#__PURE__*/React.createElement(SaveCanvas,{onCanvasSave:this.onCanvasSave}))),/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item nav-link\"},/*#__PURE__*/React.createElement(\"span\",{className:\"btn badge\"},/*#__PURE__*/React.createElement(ColorSelector,{onColorSelectorChange:this.onColorSelectorChange,color:this.state.color}))),/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item \"},/*#__PURE__*/React.createElement(\"span\",{className:\" badge inputslider\"},/*#__PURE__*/React.createElement(DimensionSelectorSlider,{onDimensionSelectorChange:this.onDimensionSelectorChange,dimensions:this.state.dimensions}))),/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item nav-link\"},/*#__PURE__*/React.createElement(\"span\",{className:\"btn badge\"},/*#__PURE__*/React.createElement(Link,{to:\"/\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-secondary\"},/*#__PURE__*/React.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 512 512\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M8 256c0 137 111 248 248 248s248-111 248-248S393 8 256 8 8 119 8 256zm448 0c0 110.5-89.5 200-200 200S56 366.5 56 256 145.5 56 256 56s200 89.5 200 200zm-72-20v40c0 6.6-5.4 12-12 12H256v67c0 10.7-12.9 16-20.5 8.5l-99-99c-4.7-4.7-4.7-12.3 0-17l99-99c7.6-7.6 20.5-2.2 20.5 8.5v67h116c6.6 0 12 5.4 12 12z\"})))))))),/*#__PURE__*/React.createElement(Canvas,{color:this.state.color,dimensions:this.state.dimensions,id:this.props.match.params.id}));}}]);return Index;}(React.Component);var App=/*#__PURE__*/function(_React$Component7){_inherits(App,_React$Component7);var _super7=_createSuper(App);function App(){_classCallCheck(this,App);return _super7.apply(this,arguments);}_createClass(App,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(Route,{path:\"/\",exact:true,component:HomePage}),/*#__PURE__*/React.createElement(Route,{path:\"/canvas/:id\",exact:true,component:Index}));}}]);return App;}(React.Component);var CanvasImage=/*#__PURE__*/function(_React$Component8){_inherits(CanvasImage,_React$Component8);var _super8=_createSuper(CanvasImage);function CanvasImage(){_classCallCheck(this,CanvasImage);return _super8.apply(this,arguments);}_createClass(CanvasImage,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Link,{to:\"/canvas/\".concat(this.props.canvas._id),className:\"canvaslink\"},/*#__PURE__*/React.createElement(\"img\",{src:\"\".concat(this.props.canvas.canvas),className:\"col imageframe\",alt:\"PlaceholderImage\"}));}}]);return CanvasImage;}(React.Component);var HomePage=/*#__PURE__*/function(_React$Component9){_inherits(HomePage,_React$Component9);var _super9=_createSuper(HomePage);function HomePage(props){var _this8;_classCallCheck(this,HomePage);_this8=_super9.call(this,props);_this8.state={canvases:[]};_this8.newcanvas={canvas:1};_this8.onAddCanvas=_this8.onAddCanvas.bind(_assertThisInitialized(_this8));return _this8;}_createClass(HomePage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this9=this;axios.get('http://localhost:5000/canvases/').then(function(response){_this9.setState({canvases:response.data});console.log(\"got data\");}).catch(function(error){console.log(error);});}},{key:\"onAddCanvas\",value:function onAddCanvas(){console.log(this.newcanvas.canvas);fetch(\"http://localhost:5000/canvases/create\",{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify(this.newcanvas)}).then(function(response){return response.json();}).then(function(data){console.log(\"Success:\",data);}).catch(function(error){console.error(\"Error:\",error);});}},{key:\"displayCanvases\",value:function displayCanvases(){return this.state.canvases.map(function(i){return/*#__PURE__*/React.createElement(CanvasImage,{key:i._id,canvas:i});});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"nav\",{className:\"navbar navbar-dark bg-dark containinput\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"navbar-nav\"},/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item nav-link\"},/*#__PURE__*/React.createElement(\"span\",{className:\"btn badge\"},/*#__PURE__*/React.createElement(AddCanvas,{onAddCanvas:this.onAddCanvas}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row row-cols-2 box \"},this.displayCanvases()));}}]);return HomePage;}(React.Component);ReactDOM.render(/*#__PURE__*/React.createElement(App,null),document.getElementById(\"root\"));","map":{"version":3,"sources":["/home/amadeus/react/react-draw/frontend/src/index.js"],"names":["React","ReactDOM","SketchPicker","BrowserRouter","Router","Route","Link","axios","Canvas","props","match","state","color","painting","dimensions","canvasdata","ctx","lastPt","startdraw","bind","enddraw","draw","canvas","document","getElementById","getContext","height","width","addEventListener","get","id","then","response","setState","data","image","Image","src","drawImage","catch","error","console","log","beginPath","e","lineWidth","lineCap","lineTo","offsetX","offsetY","strokeStyle","stroke","moveTo","Component","DimensionSelectorSlider","handleChange","event","onDimensionSelectorChange","target","value","ColorSelector","displayColorPicker","handleClick","handleClose","onColorSelectorChange","hex","background","SaveCanvas","onCanvasSave","AddCanvas","onAddCanvas","Index","getcanvas","toDataURL","fetch","params","method","headers","Accept","body","JSON","stringify","json","App","HomePage","CanvasImage","_id","canvases","newcanvas","map","i","displayCanvases","render"],"mappings":"sxBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,OAASC,YAAT,KAA6B,aAA7B,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,KAAlC,CAAyCC,IAAzC,KAAqD,kBAArD,CACA,MAAO,sCAAP,CACA,MAAO,aAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GAEMC,CAAAA,M,4GACJ,gBAAYC,KAAZ,CAAmBC,KAAnB,CAA0B,wCACxB,uBAAMD,KAAN,CAAYC,KAAZ,EACA,MAAKC,KAAL,CAAa,CAAEC,KAAK,CAAE,MAAKH,KAAL,CAAWG,KAApB,CAA2BC,QAAQ,CAAE,KAArC,CAA4CC,UAAU,CAAC,MAAKL,KAAL,CAAWK,UAAlE,CAA8EC,UAAU,CAAC,EAAzF,CAAb,CACA,MAAKC,GAAL,CAAW,EAAX,CACA,MAAKC,MAAL,CAAY,IAAZ,CACA,MAAKC,SAAL,CAAiB,MAAKA,SAAL,CAAeC,IAAf,+BAAjB,CACA,MAAKC,OAAL,CAAe,MAAKA,OAAL,CAAaD,IAAb,+BAAf,CACA,MAAKE,IAAL,CAAY,MAAKA,IAAL,CAAUF,IAAV,+BAAZ,CAPwB,aAUzB,C,gFACmB,iBAClB,GAAMG,CAAAA,MAAM,CAAGC,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAf,CACA,KAAKR,GAAL,CAAWM,MAAM,CAACG,UAAP,CAAkB,IAAlB,CAAX,CACAH,MAAM,CAACI,MAAP,CAAgB,GAAhB,CACAJ,MAAM,CAACK,KAAP,CAAe,GAAf,CACAL,MAAM,CAACM,gBAAP,CAAwB,WAAxB,CAAqC,KAAKV,SAA1C,EACAI,MAAM,CAACM,gBAAP,CAAwB,SAAxB,CAAmC,KAAKR,OAAxC,EACAE,MAAM,CAACM,gBAAP,CAAwB,WAAxB,CAAqC,KAAKP,IAA1C,EACAd,KAAK,CAACsB,GAAN,0CAA4C,KAAKpB,KAAL,CAAWqB,EAAvD,GACCC,IADD,CACM,SAAAC,QAAQ,CAAI,CAChB,MAAI,CAACC,QAAL,CAAc,CAAClB,UAAU,CAACiB,QAAQ,CAACE,IAAT,CAAcZ,MAA1B,CAAd,EACA,GAAIa,CAAAA,KAAK,CAAG,GAAIC,CAAAA,KAAJ,EAAZ,CACAD,KAAK,CAACE,GAAN,CAAUL,QAAQ,CAACE,IAAT,CAAcZ,MAAxB,CACA,MAAI,CAACN,GAAL,CAASsB,SAAT,CAAmBH,KAAnB,CAAyB,CAAzB,CAA2B,CAA3B,CAA6Bb,MAAM,CAACK,KAApC,CAA0CL,MAAM,CAACI,MAAjD,EACD,CAND,EAMGa,KANH,CAMS,SAAUC,KAAV,CAAiB,CACxBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CARD,EASD,C,+DACoB,CACnB,GAAI5B,CAAAA,KAAK,CAAE,KAAKH,KAAL,CAAWG,KAAtB,CACA,GAAI,KAAKD,KAAL,CAAWC,KAAX,GAAqBA,KAAzB,CAAgC,CAC9B,KAAKqB,QAAL,CAAc,CAACrB,KAAK,CAACA,KAAP,CAAd,EACD,CACD,GAAIE,CAAAA,UAAU,CAAG,KAAKL,KAAL,CAAWK,UAA5B,CACA,GAAI,KAAKH,KAAL,CAAWG,UAAX,GAA2BA,UAA/B,CAA0C,CACxC,KAAKmB,QAAL,CAAc,CAACnB,UAAU,CAACA,UAAZ,CAAd,EACD,CACF,C,6CAEW,CACV,KAAKmB,QAAL,CAAc,CAAEpB,QAAQ,CAAE,IAAZ,CAAd,EAED,C,yCACS,CACR,KAAKoB,QAAL,CAAc,CAAEpB,QAAQ,CAAE,KAAZ,CAAd,EACA,KAAKG,GAAL,CAAS2B,SAAT,GACD,C,kCACIC,C,CAAG,CACN,GAAI,KAAKjC,KAAL,CAAWE,QAAf,CAAyB,CACvB,KAAKG,GAAL,CAAS6B,SAAT,CAAqB,KAAKlC,KAAL,CAAWG,UAAhC,CACA,KAAKE,GAAL,CAAS8B,OAAT,CAAmB,OAAnB,CACA,KAAK9B,GAAL,CAAS+B,MAAT,CAAgBH,CAAC,CAACI,OAAlB,CAA2BJ,CAAC,CAACK,OAA7B,EACA,KAAKjC,GAAL,CAASkC,WAAT,CAAuB,KAAKvC,KAAL,CAAWC,KAAlC,CACA,KAAKI,GAAL,CAASmC,MAAT,GACA,KAAKnC,GAAL,CAAS2B,SAAT,GACA,KAAK3B,GAAL,CAASoC,MAAT,CAAgBR,CAAC,CAACI,OAAlB,CAA2BJ,CAAC,CAACK,OAA7B,EACD,CARD,IAQO,CACL,OACD,CACF,C,uCACQ,CACP,mBACE,2BAAK,SAAS,CAAC,KAAf,eACK,8BACH,EAAE,CAAC,QADA,CAEH,SAAS,CAAC,QAFP,EADL,CADF,CAQD,C,oBAvEkBjD,KAAK,CAACqD,S,KAyErBC,CAAAA,uB,iJACJ,iCAAY7C,KAAZ,CAAmB,0DACjB,yBAAMA,KAAN,EACA,OAAK8C,YAAL,CAAoB,OAAKA,YAAL,CAAkBpC,IAAlB,gCAApB,CAFiB,cAGlB,C,sFAEYqC,K,CAAO,CAClB,KAAK/C,KAAL,CAAWgD,yBAAX,CAAqCD,KAAK,CAACE,MAAN,CAAaC,KAAlD,EACD,C,uCACQ,CACP,GAAM7C,CAAAA,UAAU,CAAG,KAAKL,KAAL,CAAWK,UAA9B,CACA,mBACE,2BAAK,SAAS,CAAC,iBAAf,eACE,6BAAO,IAAI,CAAC,OAAZ,CAAoB,GAAG,CAAC,GAAxB,CAA4B,GAAG,CAAC,KAAhC,CAAsC,KAAK,CAAEA,UAA7C,CAAyD,EAAE,CAAC,SAA5D,CAAsE,QAAQ,CAAE,KAAKyC,YAArF,EADF,CADF,CAKD,C,qCAhBmCvD,KAAK,CAACqD,S,KAmBtCO,CAAAA,a,6HACJ,uBAAYnD,KAAZ,CAAkB,gDAChB,yBAAMA,KAAN,EACA,OAAKE,KAAL,CAAa,CACXkD,kBAAkB,CAAE,KADT,CAAb,CAGA,OAAKN,YAAL,CAAoB,OAAKA,YAAL,CAAkBpC,IAAlB,gCAApB,CACA,OAAK2C,WAAL,CAAmB,OAAKA,WAAL,CAAiB3C,IAAjB,gCAAnB,CACA,OAAK4C,WAAL,CAAmB,OAAKA,WAAL,CAAiB5C,IAAjB,gCAAnB,CAPgB,cAUjB,C,2EACa,CACZ,KAAKc,QAAL,CAAc,CAAE4B,kBAAkB,CAAE,CAAC,KAAKlD,KAAL,CAAWkD,kBAAlC,CAAd,EACD,C,iDAEa,CACZ,KAAK5B,QAAL,CAAc,CAAE4B,kBAAkB,CAAE,KAAtB,CAAd,EACD,C,kDAEYL,K,CAAO,CAClB,KAAK/C,KAAL,CAAWuD,qBAAX,CAAiCR,KAAK,CAACS,GAAvC,EACD,C,uCAEQ,CACP,GAAMrD,CAAAA,KAAK,CAAG,KAAKH,KAAL,CAAWG,KAAzB,CACA,mBACE,4CACI,2BAAK,SAAS,CAAC,iBAAf,CAAgC,OAAO,CAAE,KAAKkD,WAA9C,eACA,2BAAK,KAAK,CAAE,CAACI,UAAU,CAAEtD,KAAb,CAAZ,CAAiC,SAAS,CAAC,UAA3C,EADA,CADJ,CAGW,KAAKD,KAAL,CAAWkD,kBAAX,cAAiC,2BAAK,SAAS,CAAC,WAAf,eAA2B,2BAAK,SAAS,CAAC,WAAf,CAA2B,OAAO,CAAE,KAAKE,WAAzC,EAA3B,cAAmF,oBAAC,YAAD,EAAc,KAAK,CAAEnD,KAArB,CAA4B,QAAQ,CAAE,KAAK2C,YAA3C,EAAnF,CAAjC,CAAwL,IAHnM,CADF,CAOD,C,2BAjCyBvD,KAAK,CAACqD,S,KAmC5Bc,CAAAA,U,uHACJ,oBAAY1D,KAAZ,CAAmB,6CACjB,yBAAMA,KAAN,EACA,OAAKqD,WAAL,CAAmB,OAAKA,WAAL,CAAiB3C,IAAjB,gCAAnB,CAFiB,cAGlB,C,wEACa,CACZ,KAAKV,KAAL,CAAW2D,YAAX,GACD,C,uCACQ,CACP,mBAAO,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,mBAAhC,CAAoD,OAAO,CAAE,KAAKN,WAAlE,eAA+E,2BAAK,KAAK,CAAC,4BAAX,CAAwC,OAAO,CAAC,aAAhD,eAA8D,4BAAM,CAAC,CAAC,ygBAAR,EAA9D,CAA/E,CAAP,CACD,C,wBAVsB9D,KAAK,CAACqD,S,KAYzBgB,CAAAA,S,qHACJ,mBAAY5D,KAAZ,CAAmB,4CACjB,yBAAMA,KAAN,EACA,OAAKqD,WAAL,CAAmB,OAAKA,WAAL,CAAiB3C,IAAjB,gCAAnB,CAFiB,cAGlB,C,uEACY,CACX,KAAKV,KAAL,CAAW6D,WAAX,GACD,C,uCACQ,CACP,mBAAO,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,mBAAhC,CAAoD,OAAO,CAAE,KAAKR,WAAlE,eAA+E,2BAAK,KAAK,CAAC,4BAAX,CAAwC,OAAO,CAAC,aAAhD,eAA8D,4BAAM,CAAC,CAAC,kZAAR,EAA9D,CAA/E,CAAP,CACD,C,uBAVqB9D,KAAK,CAACqD,S,KAYxBkB,CAAAA,K,6GACJ,eAAY9D,KAAZ,CAAmB,wCACjB,yBAAMA,KAAN,EACA,OAAKE,KAAL,CAAa,CACXG,UAAU,CAAE,EADD,CAEXF,KAAK,CAAE,SAFI,CAAb,CAIA,OAAK6C,yBAAL,CAAiC,OAAKA,yBAAL,CAA+BtC,IAA/B,gCAAjC,CACA,OAAK6C,qBAAL,CAA6B,OAAKA,qBAAL,CAA2B7C,IAA3B,gCAA7B,CACA,OAAKiD,YAAL,CAAoB,OAAKA,YAAL,CAAkBjD,IAAlB,gCAApB,CARiB,cASlB,C,sFACqBP,K,CAAO,CAC3B,KAAKqB,QAAL,CAAc,CAACrB,KAAK,CAACA,KAAP,CAAd,EACD,C,4EACyBE,U,CAAY,CACpC,KAAKmB,QAAL,CAAc,CAACnB,UAAU,CAACA,UAAZ,CAAd,EACD,C,mDACc,CACb,GAAM0D,CAAAA,SAAS,CAAGjD,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAlB,CACA,GAAMT,CAAAA,UAAU,CAAGyD,SAAS,CAACC,SAAV,EAAnB,CACA,GAAMnD,CAAAA,MAAM,CAAG,CACbA,MAAM,CAACP,UADM,CAAf,CAGA2D,KAAK,iDAA0C,KAAKjE,KAAL,CAAWC,KAAX,CAAiBiE,MAAjB,CAAwB7C,EAAlE,EAAwE,CAC3E8C,MAAM,CAAE,MADmE,CAE3EC,OAAO,CAAE,CACPC,MAAM,CAAE,kBADD,CAEP,eAAgB,kBAFT,CAFkE,CAM3EC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe3D,MAAf,CANqE,CAAxE,CAAL,CAQGS,IARH,CAQQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACkD,IAAT,EAAd,EARR,EASGnD,IATH,CASQ,SAACG,IAAD,CAAU,CACdO,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBR,IAAxB,EACD,CAXH,EAYGK,KAZH,CAYS,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACD,KAAR,CAAc,QAAd,CAAwBA,KAAxB,EACD,CAdH,EAeD,C,uCAEQ,CACP,mBACE,4CAEA,2BAAK,SAAS,CAAC,yCAAf,eACA,0BAAI,SAAS,CAAC,YAAd,eACE,0BAAI,SAAS,CAAC,mBAAd,eACE,4BAAM,SAAS,CAAC,WAAhB,eACA,oBAAC,UAAD,EAAY,YAAY,CAAE,KAAK4B,YAA/B,EADA,CADF,CADF,cAME,0BAAI,SAAS,CAAC,mBAAd,eACE,4BAAM,SAAS,CAAC,WAAhB,eACA,oBAAC,aAAD,EAAe,qBAAqB,CAAE,KAAKJ,qBAA3C,CAAkE,KAAK,CAAE,KAAKrD,KAAL,CAAWC,KAApF,EADA,CADF,CANF,cAWE,0BAAI,SAAS,CAAC,WAAd,eACI,4BAAM,SAAS,CAAC,oBAAhB,eACA,oBAAC,uBAAD,EAAyB,yBAAyB,CAAE,KAAK6C,yBAAzD,CAAoF,UAAU,CAAE,KAAK9C,KAAL,CAAWG,UAA3G,EADA,CADJ,CAXF,cAgBE,0BAAI,SAAS,CAAC,mBAAd,eACI,4BAAM,SAAS,CAAC,WAAhB,eACE,oBAAC,IAAD,EAAM,EAAE,CAAE,GAAV,eAAe,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,mBAAhC,eAAoD,2BAAK,KAAK,CAAC,4BAAX,CAAwC,OAAO,CAAC,aAAhD,eAA8D,4BAAM,CAAC,CAAC,6SAAR,EAA9D,CAApD,CAAf,CADF,CADJ,CAhBF,CADA,CAFA,cA2BA,oBAAC,MAAD,EAAQ,KAAK,CAAE,KAAKH,KAAL,CAAWC,KAA1B,CAAiC,UAAU,CAAE,KAAKD,KAAL,CAAWG,UAAxD,CAAoE,EAAE,CAAE,KAAKL,KAAL,CAAWC,KAAX,CAAiBiE,MAAjB,CAAwB7C,EAAhG,EA3BA,CADF,CA+BD,C,mBAxEiB9B,KAAK,CAACqD,S,KA0EpB8B,CAAAA,G,+OACK,CACP,mBAAO,oBAAC,MAAD,mBAAQ,oBAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,KAAK,KAArB,CAAsB,SAAS,CAAEC,QAAjC,EAAR,cAAqD,oBAAC,KAAD,EAAO,IAAI,CAAC,aAAZ,CAA0B,KAAK,KAA/B,CAAgC,SAAS,CAAEb,KAA3C,EAArD,CAAP,CACD,C,iBAHevE,KAAK,CAACqD,S,KAKlBgC,CAAAA,W,uRACK,CACP,mBAAO,oBAAC,IAAD,EAAM,EAAE,mBAAa,KAAK5E,KAAL,CAAWa,MAAX,CAAkBgE,GAA/B,CAAR,CAA8C,SAAS,CAAC,YAAxD,eAAqE,2BAAK,GAAG,WAAK,KAAK7E,KAAL,CAAWa,MAAX,CAAkBA,MAAvB,CAAR,CAAyC,SAAS,CAAC,gBAAnD,CAAoE,GAAG,CAAC,kBAAxE,EAArE,CAAP,CACD,C,yBAHuBtB,KAAK,CAACqD,S,KAM1B+B,CAAAA,Q,mHACJ,kBAAY3E,KAAZ,CAAmB,2CACjB,yBAAMA,KAAN,EACA,OAAKE,KAAL,CAAa,CAAC4E,QAAQ,CAAC,EAAV,CAAb,CACA,OAAKC,SAAL,CAAiB,CAAClE,MAAM,CAAE,CAAT,CAAjB,CACA,OAAKgD,WAAL,CAAmB,OAAKA,WAAL,CAAiBnD,IAAjB,gCAAnB,CAJiB,cAKlB,C,kFACmB,iBAClBZ,KAAK,CAACsB,GAAN,CAAU,iCAAV,EACCE,IADD,CACM,SAAAC,QAAQ,CAAI,CACd,MAAI,CAACC,QAAL,CAAc,CAACsD,QAAQ,CAACvD,QAAQ,CAACE,IAAnB,CAAd,EACAO,OAAO,CAACC,GAAR,CAAY,UAAZ,EACH,CAJD,EAKCH,KALD,CAKO,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAPD,EAQD,C,iDACa,CAEZC,OAAO,CAACC,GAAR,CAAY,KAAK8C,SAAL,CAAelE,MAA3B,EACAoD,KAAK,CAAC,uCAAD,CAA0C,CAC7CE,MAAM,CAAE,MADqC,CAE7CC,OAAO,CAAE,CACPC,MAAM,CAAE,kBADD,CAEP,eAAgB,kBAFT,CAFoC,CAM7CC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,KAAKO,SAApB,CANuC,CAA1C,CAAL,CAQGzD,IARH,CAQQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACkD,IAAT,EAAd,EARR,EASGnD,IATH,CASQ,SAACG,IAAD,CAAU,CACdO,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBR,IAAxB,EACD,CAXH,EAYGK,KAZH,CAYS,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACD,KAAR,CAAc,QAAd,CAAwBA,KAAxB,EACD,CAdH,EAiBD,C,yDACiB,CAEhB,MAAO,MAAK7B,KAAL,CAAW4E,QAAX,CAAoBE,GAApB,CAAwB,SAAAC,CAAC,CAAI,CAElC,mBAAO,oBAAC,WAAD,EAAa,GAAG,CAAEA,CAAC,CAACJ,GAApB,CAAyB,MAAM,CAAEI,CAAjC,EAAP,CACD,CAHM,CAAP,CAID,C,uCACQ,CACP,mBAAO,4CACL,2BAAK,SAAS,CAAC,yCAAf,eACA,0BAAI,SAAS,CAAC,YAAd,eACE,0BAAI,SAAS,CAAC,mBAAd,eACA,4BAAM,SAAS,CAAC,WAAhB,eACE,oBAAC,SAAD,EAAW,WAAW,CAAE,KAAKpB,WAA7B,EADF,CADA,CADF,CADA,CADK,cAUL,2BAAK,SAAS,CAAC,qBAAf,EAAsC,KAAKqB,eAAL,EAAtC,CAVK,CAAP,CAYD,C,sBA1DoB3F,KAAK,CAACqD,S,EA6D7BpD,QAAQ,CAAC2F,MAAT,cAAgB,oBAAC,GAAD,MAAhB,CAAyBrE,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAzB","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { SketchPicker } from \"react-color\";\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\nimport \"bootstrap/dist/css/bootstrap.min.css\"\nimport './index.css'\nimport axios from \"axios\";\n\nclass Canvas extends React.Component {\n  constructor(props, match) {\n    super(props,match);\n    this.state = { color: this.props.color, painting: false, dimensions:this.props.dimensions, canvasdata:''};\n    this.ctx = \"\";\n    this.lastPt=null;\n    this.startdraw = this.startdraw.bind(this);\n    this.enddraw = this.enddraw.bind(this);\n    this.draw = this.draw.bind(this);\n    \n    \n  }\n  componentDidMount() {\n    const canvas = document.getElementById(\"canvas\");\n    this.ctx = canvas.getContext(\"2d\");\n    canvas.height = 800;\n    canvas.width = 800;\n    canvas.addEventListener('mousedown', this.startdraw)\n    canvas.addEventListener('mouseup', this.enddraw)\n    canvas.addEventListener('mousemove', this.draw)\n    axios.get(`http://localhost:5000/canvases/${this.props.id}`)\n    .then(response => {\n      this.setState({canvasdata:response.data.canvas})\n      let image = new Image();\n      image.src=response.data.canvas\n      this.ctx.drawImage(image,0,0,canvas.width,canvas.height);\n    }).catch(function (error) {\n      console.log(error)\n    })\n  }\n  componentDidUpdate() {\n    let color =this.props.color\n    if (this.state.color !== color) {\n      this.setState({color:color})\n    }\n    let dimensions = this.props.dimensions \n    if (this.state.dimensions  !== dimensions){\n      this.setState({dimensions:dimensions})\n    }\n  }\n\n  startdraw() {\n    this.setState({ painting: true });\n\n  }\n  enddraw() {\n    this.setState({ painting: false });\n    this.ctx.beginPath();\n  }\n  draw(e) {\n    if (this.state.painting) {\n      this.ctx.lineWidth = this.state.dimensions;\n      this.ctx.lineCap = \"round\";\n      this.ctx.lineTo(e.offsetX, e.offsetY );\n      this.ctx.strokeStyle = this.state.color;\n      this.ctx.stroke();\n      this.ctx.beginPath();\n      this.ctx.moveTo(e.offsetX, e.offsetY );\n    } else {\n      return;\n    }\n  }\n  render() {\n    return (\n      <div className=\"box\">\n           <canvas\n        id=\"canvas\"\n        className=\"canvas\"\n      />\n      </div>\n    );\n  }\n}\nclass DimensionSelectorSlider extends React.Component {\n  constructor(props) {\n    super(props)\n    this.handleChange = this.handleChange.bind(this)\n  }\n\n  handleChange(event) {\n    this.props.onDimensionSelectorChange(event.target.value);\n  }\n  render() {\n    const dimensions = this.props.dimensions\n    return (\n      <div className=\"d-flex flex-row\" >\n        <input type=\"range\" min=\"1\" max=\"100\" value={dimensions} id=\"myRange\" onChange={this.handleChange} />\n      </div>\n    )\n  }\n}\n\nclass ColorSelector extends React.Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      displayColorPicker: false,\n    };\n    this.handleChange = this.handleChange.bind(this)\n    this.handleClick = this.handleClick.bind(this)\n    this.handleClose = this.handleClose.bind(this)\n   \n    \n  }\n  handleClick() {\n    this.setState({ displayColorPicker: !this.state.displayColorPicker });\n  };\n\n  handleClose() {\n    this.setState({ displayColorPicker: false });\n  };\n\n  handleChange(event) {\n    this.props.onColorSelectorChange(event.hex)\n  };\n  \n  render() {\n    const color = this.props.color\n    return (\n      <div>\n          <div className=\"changlecolorbtn\"onClick={this.handleClick}>\n          <div style={{background: color}} className=\"btncolor\"/>\n          </div>{this.state.displayColorPicker ? (<div className=\"colormenu\"><div className=\"menucovor\" onClick={this.handleClose} /><SketchPicker color={color} onChange={this.handleChange}/></div>) : null}\n      </div>\n    );\n  }\n}\nclass SaveCanvas extends React.Component {\n  constructor(props) {\n    super(props)\n    this.handleClick = this.handleClick.bind(this)\n  }\n  handleClick() {\n    this.props.onCanvasSave()\n  }\n  render() {\n    return <button type=\"button\" className=\"btn btn-secondary\" onClick={this.handleClick}><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path d=\"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM272 80v80H144V80h128zm122 352H54a6 6 0 0 1-6-6V86a6 6 0 0 1 6-6h42v104c0 13.255 10.745 24 24 24h176c13.255 0 24-10.745 24-24V83.882l78.243 78.243a6 6 0 0 1 1.757 4.243V426a6 6 0 0 1-6 6zM224 232c-48.523 0-88 39.477-88 88s39.477 88 88 88 88-39.477 88-88-39.477-88-88-88zm0 128c-22.056 0-40-17.944-40-40s17.944-40 40-40 40 17.944 40 40-17.944 40-40 40z\"/></svg></button>\n  }\n}\nclass AddCanvas extends React.Component {\n  constructor(props) {\n    super(props) \n    this.handleClick = this.handleClick.bind(this)\n  }\n  handleClick(){\n    this.props.onAddCanvas()\n  }\n  render() {\n    return <button type=\"button\" className=\"btn btn-secondary\" onClick={this.handleClick}><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path d=\"M352 240v32c0 6.6-5.4 12-12 12h-88v88c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-88h-88c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h88v-88c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v88h88c6.6 0 12 5.4 12 12zm96-160v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z\"/></svg></button>\n  }\n}\nclass Index extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { \n      dimensions: 10,\n      color: \"#000000\",\n    }\n    this.onDimensionSelectorChange = this.onDimensionSelectorChange.bind(this)\n    this.onColorSelectorChange = this.onColorSelectorChange.bind(this)\n    this.onCanvasSave = this.onCanvasSave.bind(this)\n  }\n  onColorSelectorChange(color) {\n    this.setState({color:color})\n  }\n  onDimensionSelectorChange(dimensions) {\n    this.setState({dimensions:dimensions})\n  }\n  onCanvasSave() {\n    const getcanvas = document.getElementById(\"canvas\");\n    const canvasdata = getcanvas.toDataURL();\n    const canvas = {\n      canvas:canvasdata\n    }\n    fetch(`http://localhost:5000/canvases/update/${this.props.match.params.id}`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(canvas),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(\"Success:\", data);\n      })\n      .catch((error) => {\n        console.error(\"Error:\", error);\n      });\n  }\n  \n  render() {\n    return (\n      <div>\n        \n      <nav className=\"navbar navbar-dark bg-dark containinput\">\n      <ul className=\"navbar-nav\">\n        <li className=\"nav-item nav-link\"  >\n          <span className=\"btn badge\">\n          <SaveCanvas onCanvasSave={this.onCanvasSave}/>\n          </span>\n      </li>\n        <li className=\"nav-item nav-link\"  >\n          <span className=\"btn badge\">\n          <ColorSelector onColorSelectorChange={this.onColorSelectorChange} color={this.state.color}/>\n          </span>\n      </li>\n        <li className=\"nav-item \">\n            <span className=\" badge inputslider\">\n            <DimensionSelectorSlider onDimensionSelectorChange={this.onDimensionSelectorChange} dimensions={this.state.dimensions} />\n            </span>\n        </li>\n        <li className=\"nav-item nav-link\"  >\n            <span className=\"btn badge\">\n              <Link to={\"/\"}><button type=\"button\" className=\"btn btn-secondary\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path d=\"M8 256c0 137 111 248 248 248s248-111 248-248S393 8 256 8 8 119 8 256zm448 0c0 110.5-89.5 200-200 200S56 366.5 56 256 145.5 56 256 56s200 89.5 200 200zm-72-20v40c0 6.6-5.4 12-12 12H256v67c0 10.7-12.9 16-20.5 8.5l-99-99c-4.7-4.7-4.7-12.3 0-17l99-99c7.6-7.6 20.5-2.2 20.5 8.5v67h116c6.6 0 12 5.4 12 12z\"/></svg></button></Link>\n              \n            </span>\n        </li>\n      </ul>\n      </nav>\n      <Canvas color={this.state.color} dimensions={this.state.dimensions} id={this.props.match.params.id}/>\n      </div>\n    );\n  }\n}\nclass App extends React.Component {\n  render() {\n    return <Router><Route path=\"/\" exact component={HomePage} /><Route path=\"/canvas/:id\" exact component={Index} /></Router> \n  }\n}\nclass CanvasImage extends React.Component {\n  render() {\n    return <Link to={`/canvas/${this.props.canvas._id}`} className=\"canvaslink\"><img src={`${this.props.canvas.canvas}`} className=\"col imageframe\" alt=\"PlaceholderImage\"/></Link> \n  }\n}\n\nclass HomePage extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {canvases:[]}\n    this.newcanvas = {canvas: 1 }\n    this.onAddCanvas = this.onAddCanvas.bind(this)\n  }\n  componentDidMount() {\n    axios.get('http://localhost:5000/canvases/')\n    .then(response => {\n        this.setState({canvases:response.data})\n        console.log(\"got data\")\n    })\n    .catch((error) => {\n      console.log(error)\n    })\n  }\n  onAddCanvas() {\n    \n    console.log(this.newcanvas.canvas)\n    fetch(\"http://localhost:5000/canvases/create\", {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(this.newcanvas),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(\"Success:\", data);\n      })\n      .catch((error) => {\n        console.error(\"Error:\", error);\n      });\n  \n    \n  }\n  displayCanvases() {\n    \n    return this.state.canvases.map(i => {\n     \n      return <CanvasImage key={i._id} canvas={i} />\n    })\n  }\n  render() {\n    return <div>\n      <nav className=\"navbar navbar-dark bg-dark containinput\">\n      <ul className=\"navbar-nav\">\n        <li className=\"nav-item nav-link\">\n        <span className=\"btn badge\">\n          <AddCanvas onAddCanvas={this.onAddCanvas}/>\n          </span>\n        </li>\n      </ul>\n      </nav>\n      <div className=\"row row-cols-2 box \">{this.displayCanvases()}</div>\n      </div>\n  }\n}\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"]},"metadata":{},"sourceType":"module"}